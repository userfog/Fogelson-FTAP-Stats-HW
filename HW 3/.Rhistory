install.packages("xts")
plot(investSD,
source('~/Developer/FTAP Stats HW/pset1R.R', echo=TRUE)
source('~/Developer/FTAP Stats HW/pset1R.R', echo=TRUE)
source('~/Developer/FTAP Stats HW/pset1R.R', echo=TRUE)
cat("\014")
pnorm()
p <- pnorm(0, .01, .04)
print(p)
?pnorm
?rnorm
q <- pnorm(.05, .01, .04)
q - p
rnorm(100, 0, 1)
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
hist(rnorm(100, 0, 1))
mu <- .01
sig <- .04
x <- rnorm(100, mu, sig)
plot(x, type="o")
hist(x)
plot(x, type="o", col="blue")
x <- rnorm(1000, mu, sig)
hist(x)
x <- rnorm(10000, mu, sig)
hist(x)
?qnorm
x <- rexp(1000, mu, sig)
?rexp
x <- rexp(1000, rate=2)
hist(x)
x <- rexp(1000, rate=1)
hist(x)
x <- rexp(1000, rate=5)
hist(x)
x <- rexp(1000, rate=10)
hist(x)
plot(x, type="o", col="blue")
?unif
?runif
x <- runif(1000, min=0, max=1)
plot(x, type="o", col="blue")
hist(x)
?data
data()
?qnorm
q<-qnorm(.01, .000519, .009461)
print q
print(q)
print(q*100)
pnorm(-5.27, mean = 0, sd = 1)
data()
plot(WorldPhones)
head(WorldPhones)
plot(WorldPhones$N.Amer ~ WorldPhones$Asia)
plot(WorldPhones$N.Amer, WorldPhones$Asia)
plot(N.Amer ~ Asia, data=WorldPhones)
?norm
?pnorm
p(1390, 1250, 70^2)
pnorm(1390, 1250, 70^2)
1 - pnorm(1390, 1250, 70^2)
70^2
pnorm(1390, 1250, (70^2))
pnorm(1390, mean = 1250, sd = (70^2))
pnorm(1, mean = .8, sd = (4.5^2))
pnorm(0, mean = .8, sd = 4.5^2)
pnorm(1390, mean = 1250, sd = \70)
pnorm(1390, mean = 1250, sd = 70)
cat("\014")
getwd()
dir()
setwd("./HW 2")
getwd()
ls
dir()
cat("\014")
ls
cat("\014")
dir()
library(gdata)
install(gdata)
install.packages(gdata)
install.packages("gdata)
install.packages("gdata")
install.packages("gdata")
library(gdata)
?read.xls
read.xls(xls = "country portfolios.xlsx", sheet = 1)
countries <- read.xls(xls = "country portfolios.xlsx", sheet = 1)
head(countries)
names(countries)
install.packages(plyr)
install.packages("plyr)
""
"
install.packages("plyr")
library("plyr")
rename(x = countries, c("Global.Index.Key...Index.Monthly"="key", "Index.Price...Close.Monthly"="price"))
names(countries)
countries <- rename(x = countries, c("Global.Index.Key...Index.Monthly"="key", "Index.Price...Close.Monthly"="price", "Data.Date...Index.Monthly"="date", "Index.Name"="name"))
head(countreis)
head(countriess)
head(countries)
unique(countries$name)
for(i in unique(countries$name)){print(i)}
exchanges <- data.frame()
list(1,2,3,4)[-1]
indexReturns <- data.frame()
considering <- countries[countries["name"] == "S&P 500 Comp-Ltd"]
head(considering)
considering
considering <- countries[countries["name"] = "S&P 500 Comp-Ltd"]
considering <- countries[countries$name == "S&P 500 Comp-Ltd"]
considering <- countries[countries$name == "S&P 500 Comp-Ltd", ]
considering
considering <- countries[countries["name"] == "S&P 500 Comp-Ltd",]
head(considering)
diff <- considering$price[-1] - considering[-length(considering)]
head(diff)
1366.42 - 1394.46
considering$price[-1] - considering[-length(considering)]
considering$price[-1] - considering$price[-length(considering)]
head(considering)
1366.42 - 1394.46
head(considering, n=10)
head(considering$price[-1], n=10)
length(considering$price[-1], n=10))
length(considering$price[-1])
length(considering$price[-length(considering$price)])
diff <- considering$price[-1] - considering$price[-length(considering$price)]
head(diff)
head(diff, n = 20)
basicReturn <- diff / considering$price[-length(considering$price)]
head(basicReturn)
indexReturns <- data.frame()
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
indexReturns[i] <- basicReturn
}
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
}
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
}
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
print(length(basicReturn))
}
indexReturns <- data.frame()
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
indexReturns[,i] <- basicReturn
}
indexReturns <- data.frame()
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
print(i)
indexReturns[,i] <- basicReturn
}
?data.frame
?cbind
indexReturns <- data.frame()
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
print(i)
cbind(indexReturns, basicReturn)
}
indexReturns <- list()
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
print(i)
indexReturns <- c(indexReturns, c(i, basicReturn))
}
indexReturns
head(indexReturns)
indexReturns <- data.frame([1:length(countries$price)])
[1:3]
indexReturns <- data.frame(seq(1:length(countries$price)))
head(indexReturns)
indexReturns <- data.frame(seq(1:length(countries$price)))
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
print(i)
indexReturns <- cbind(indexReturns, basicReturn)
}
indexReturns <- data.frame(seq(1:184))
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
print(i)
indexReturns <- cbind(indexReturns, basicReturn)
}
head(indexReturns)
indexReturns <- data.frame(seq(1:184))
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
print(i)
indexReturns <- cbind(indexReturns, basicReturn)
indexReturns <- rename(x = indexReturns, c("basicReturn"=i))
}
head(indexReturns)
indexReturns[-"seq.1.184."]
indexReturns[-c("seq.1.184.")]
indexReturns[-c("seq.1.184")]
names(indexReturns)
indexReturns <- indexReturns[, unique(countries$name), drop=F]
head(indexReturns)
var(indexReturns, y=indexReturns)
varCov <- var(indexReturns, y=indexReturns)
head(varCov)
corMat <- cor(indexReturns, indexReturns)
head(corMat)
indexReturns <- indexReturns[, unique(countries$name), drop=F]
head(indexReturns)
varCov <- var(indexReturns, y=indexReturns)
corMat <- cor(indexReturns, indexReturns)
head(corMat)
head(varCov)
head(corMat)
names(corMat)
corMat["IBEX 35 Index"]
corMat["IBEX 35 Index",]
lenght(corMat["IBEX 35 Index",])
length(corMat["IBEX 35 Index",])
hist(corMat["IBEX 35 Index",])
plot(corMat["IBEX 35 Index",])
barplot(corMat["IBEX 35 Index",])
indexReturns <- indexReturns[unique(countries$name)]
names(indexReturns)
indexReturns <- indexReturns[c(unique(countries$name))]
names(indexReturns)
indexReturns <- indexReturns[,unique(countries$name)]
head(indexReturns)
indexReturns <- indexReturns[,unique(countries$name), drop=T
]
head(indexReturns)
subset(indexReturns, unique(countries$name))
subset(indexReturns, select = unique(countries$name))
tmp <- subset(indexReturns, select = unique(countries$name))
head(tmp)
names(tmp)
tmp <- subset(indexReturns, select = c(unique(countries$name)))
names(tmp)
names(indexReturns)
head(names(indexReturns[(c %in% unique(countries$name))]))
drops <- c("seq.1.184.")
head(indexReturns[, !(names(indexReturns) %in% drops)]
)
names(indexReturns[, !(names(indexReturns) %in% drops)])
library(gdata)
library(plyr)
countries <- read.xls(xls = "country portfolios.xlsx", sheet = 1)
countries <- rename(x = countries, c("Global.Index.Key...Index.Monthly"="key", "Index.Price...Close.Monthly"="price", "Data.Date...Index.Monthly"="date", "Index.Name"="name"))
indexReturns <- data.frame(seq(1:184))
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
indexReturns <- cbind(indexReturns, basicReturn)
indexReturns <- rename(x = indexReturns, c("basicReturn"=i))
}
drops <- c("seq.1.184.")
indexReturns <- indexReturns[, !(names(indexReturns) %in% drops)]
varCov <- var(indexReturns, y=indexReturns)
corMat <- cor(indexReturns, indexReturns)
head(corMat, n=1)
head(corMat[,"S&P 500 Comp-Ltd"])
names(head(corMat[,"S&P 500 Comp-Ltd"]))
length(names(head(corMat[,"S&P 500 Comp-Ltd"])))
barplot(corMat[,"S&P 500 Comp-Ltd"])
barplot(corMat[,"S&P 500 Comp-Ltd"], las=1)
barplot(corMat[,"S&P 500 Comp-Ltd"], las=2)
? barplot
barplot(corMat[,"S&P 500 Comp-Ltd"], las=2, cex.names = .5)
barplot(corMat[,"S&P 500 Comp-Ltd"], las=2, cex.names = 2)
barplot(corMat[,"S&P 500 Comp-Ltd"], las=2, cex.names = 3)
barplot(corMat[,"S&P 500 Comp-Ltd"], las=2, cex.names = .9)
barplot(corMat, las=2, cex.names = .9)
for(i in unique(countries$names)){
barplot(corMat[,i], las=2, cex.names = .9)
}
for(i in unique(countries$names)){
barplot(corMat[,i], las=2, cex.names = .9)
}
corMat
corMat[, "Bombay Stock Exchange Sensitive Index"]
barplot(corMat[, "Bombay Stock Exchange Sensitive Index"])
barplot(corMat[, "Bombay Stock Exchange Sensitive Index"], las = 2)
barplot(as.matrix(corMat))
barplot(as.matrix(corMat), beside = T)
barplot(as.matrix(corMat), beside = T, las = 2)
barplot(as.matrix(corMat), beside = T, las = 2, col = terrain.colors(10))
length(names(corMat[,1]))
head(corMat)
legend(13, 12, names(corMat[,1]), cex=0.6,
fill=terrain.colors(10))
legend(13, 12, c(names(corMat[,1])), cex=0.6, fill=terrain.colors(10))
?legend
legend(13,c(names(corMat[,1])), cex=0.6, fill=terrain.colors(10))
legend(0,c(names(corMat[,1])), cex=0.6, fill=terrain.colors(10))
legend(1,c(names(corMat[,1])), cex=0.6, fill=terrain.colors(10))
library(gdata)
library(plyr)
countries <- read.xls(xls = "country portfolios.xlsx", sheet = 1)
countries <- rename(x = countries, c("Global.Index.Key...Index.Monthly"="key", "Index.Price...Close.Monthly"="price", "Data.Date...Index.Monthly"="date", "Index.Name"="name"))
indexReturns <- data.frame(seq(1:184))
for(i in unique(countries$name)){
considering <- countries[countries["name"] == i,]
diff <- considering$price[-1] - considering$price[-length(considering$price)]
basicReturn <- diff / considering$price[-length(considering$price)]
indexReturns <- cbind(indexReturns, basicReturn)
indexReturns <- rename(x = indexReturns, c("basicReturn"=i))
}
drops <- c("seq.1.184.")
indexReturns <- indexReturns[, !(names(indexReturns) %in% drops)]
varCov <- var(indexReturns, y=indexReturns)
corMat <- cor(indexReturns, indexReturns)
# The correlation matrix contains more interpretable information regarding the degree of
# co-movement in each pair of series because it is normalized based on the standard deviations
barplot(as.matrix(corMat), beside = T, las = 2, col = terrain.colors(length(names(corMat[,1]))))
legend(1,c(names(corMat[,1])), cex=0.6, fill=terrain.colors(10))
print(corMat[,1])
print(corMat[,"S&P 500 Comp-Ltd"])
head(corMat)
head(corMat[,"S&P 500 Comp-Ltd"])
0*.3+.05*.45+.25*.1
.05^2*.45 + .25 * .1^2
.05^2*.45 + .25 * .1^2 - .0475^2
(-.0475)^2
(-.0475)^2 * .1
-.0475*(.1*(-.0457) + .15 *(.05 - .0475) + .05*(.1-.0475)) + (.05-.0475)*(.15*(-.0457) + .2*(.05 - .0475) + .1*(.1-.0475)) + (.1-.0475)*(.05*(-.0457) + .1*(.05 - .0475) + .1*(.1-.0475))
.0002406/(.00136875^2)
.0002406/(.00136875)
0*.05 + .05 * .1 + .1 * .1
.05/.3
.1/.3
.05/.25
.1/.25
0*.2 + .05 * .4 + .1 * .4
?pnorm
pnorm(-20000, 10000, 40000)
.1 * 2 + .25 * 1 + .25*-1 + .1 * -2
.1 * 2^2 + .25 * 1^2 + .25*-1^2 + .1 * -2^2
.1 * 2^2 + .25 * 1^2 + .25*(-1)^2 + .1 * (-2)^2
cat("\014")
dir()
myTs <- "TSdata.xls"
head(myTs)
myTs <- read.xls("TSdata.xls")
head(myTs)
plot(x)
lines(x)
lines(y)
lines(myTs$X)
lines(myTs$Y)
plot(myTs$Y )
lines()
lines(myTs$Y)
plot(myTs$X)
lines(myTs$X)
hist(myTs$X)
hist(myTs$X, bins = 4)
?hist
hist(myTs$X, freq = 4)
?hist
mean(myTs$X)
sd(myTs$X)
plot(myTs$X)
lines(myTs$X)
lines(myTs$Y)
plot(myTs$Y)
lines(myTs$Y)
diffs <- myTs$Y[-length(myTs$Y)] - myTs$Y[-1]
plot(diffs)
lines(diffs)
x
myX <- myTs$X
plot(myX)
length(myX[myX == 4]) / 100
length(myX[myX == 3]) / 100
length(myX[myX == 2]) / 100
length(myX[myX == 1]) / 100
mean(myX)
plot(diffs)
length(diffs[diffs == 0]) / 100
length(diffs[diffs == .01]) / 100
length(diffs[diffs == .02]) / 100
head(diffs)
length(diffs[diffs == 0.02]) / 100
length(diffs[diffs == 0.02])
0.02 == 0.02
diffs[diffs == 0.02]
diffs
diffs <- as.data.frame(diffs)
diffs[diffs == 0.02]
diffs[diffs == 0 ]
diffs[diffs == 2 ]
diffs[diffs == .02 ]
diffs[diffs == -.02 ]
diffs[diffs == -.01 ]
diffs[ diffs == -.01 ]
unique(diffs)
hist(diffs, breaks = 5)
barplot(x)
barplot(diffs)
barplot(diffs$diffs)
hist(diffs$diffs)
hist(diffs$diffs, breaks = 5)
diffs[ diffs$diffs  == -.01 ]
diffs$diffs[ diffs$diffs == -.01 ]
diffs[ diffs$diffs == -.01 ]
diffs <- myTs$Y[-length(myTs$Y)] - myTs$Y[-1]
plot(diffs)
diffs[ diffs == -.01 ]
subset(diffs, select = .01)
subset(diffs)
diffs
barplot(diffs.frequecy)
unique(diffas)
unique(diffs)
head(diffs)
head(diffs, n=5)
plot(myTs$X )
length(myTs$X[myTs$X == 4])
length(myTs$X[myTs$X == 4]) / length(myX)
length(myTs$X[myTs$X == 3]) / length(myX)
length(myTs$X[myTs$X == 2]) / length(myX)
length(myTs$X[myTs$X == 1]) / length(myX)
head(diffs, n=5)
length(diffs[diffs == 1]) / length(diffs)
length(diffs[diffs == 1.]) / length(diffs)
barplot(diffs)
list(diffs)
v <- list(diff)
v <- list(diffs)
v[v == 0]
diffs
diffs[diffs > 0 & diffs < .15]
diffs[diffs > 0 & diffs < .015]
diffs[diffs > 0 & diffs < .015] / 100
length(diffs[diffs > 0 & diffs < .015]) / 100
length(diffs[diffs > -0.1 & diffs < .01]) / 100
length(diffs[diffs > -0.11 & diffs < .09]) / 100
length(diffs[diffs == 0]) / 100
length(diffs[diffs < 0 & diffs > -.012]) / 100
length(diffs[diffs < .012 & diffs > -.022]) / 100
length(diffs[diffs < .-]012 & diffs > -.022]) / 100
length(diffs[diffs < -012 & diffs > -.022]) / 100
length(diffs[diffs < -.012 & diffs > -.022]) / 100
length(diffs[diffs > .012]) / 100
.13 + .26 + .28 + .24 + .08
history()
hist()
history
history()
?history
source('~/.active-rstudio-document', echo=TRUE)
getwd()
setwd("../HW 3")
getwd()
dir()
library(gdata)
library(plyr)
mfunds <- read.xls(xls = "mfunds (1).xls", sheet = 1)
head(mfunds)
mfunds <- read.xls(xls = "mfunds (1).xls", sheet = 2)
head(mfunds)
plot(mfunds)
sds <- sd(mfunds)
sd(mfunds[,])
sds <- sapply(mfunds, sd)
print sda
print sds
print(sds)
means <- sapply(mfunds, mean)
means
means + sds
0.047237276 + 0.054004221
0.047237276 + 0.006766944
?rbind
